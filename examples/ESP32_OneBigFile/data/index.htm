<!DOCTYPE html>
<html>
  
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ESP Google Drive demo page</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" crossorigin="anonymous">
	<style>
	  .dataBox {
      border: 1px solid gray;
      height: auto;
      padding: 0 1em;
      display: block;
      margin: 1em;
    }
	</style>
</head>
	
<body>
  <div class="container">
    <br><h1>ESP Google Drive</h1>
    <br><h2>One Big File</h2>
  
    <div>
     	<br><button type="button" id="getTokenButton" class="btn btn-primary btn-lg btn-block" onclick="sendUploadRequest()">Upload to Google Drive</button>
      <br><span id="uploadData" class="dataBox"> - </span><br>
    </div>
  
  </div>


  <script>  
    function sendUploadRequest() {
      document.getElementById("uploadData").innerHTML = "Start uploading file... wait please.";
      fetch('/sendToDrive')
      .then(response => response.text())
      .then(data => {
        console.log(data);
        let today = new Date().toLocaleString();
        document.getElementById("uploadData").innerHTML = data + '  -  (' + today + ')';
      });
    }
  </script>

</body>
</html>